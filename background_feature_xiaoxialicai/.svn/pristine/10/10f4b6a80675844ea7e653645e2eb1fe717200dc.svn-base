<!doctype html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta content="always" name="referrer">
    <title>小虾理财注册页a</title>
    <scritp src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></scritp>
    <script src="/conf/static.js"></script>
    <script src="../../conf/static.js"></script>
    <script>
        $globals.loadConf();
        $globals.dl('js', 'jquery');
        $globals.dl('js', 'common');
//        $globals.dl('css', 'common');

        wx.config({
            debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
            appId: 'wxeb292725a9b34381', // 必填，公众号的唯一标识
            timestamp: 1449597252, // 必填，生成签名的时间戳
            nonceStr: '', // 必填，生成签名的随机串
            signature: '',// 必填，签名，见附录1
            jsApiList: [] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
        });
    </script>
</head>
<body>
<table>
    <form action="" method="get">
        <input type="hidden" name="clientType" value="">
        <input type="hidden" name="contractId" value="">
        <input type="hidden" name="clientId" value="">
        <input type="hidden" name="clientSecret" value="">
        <input type="hidden" name="protocol" value="2">
        <input type="hidden" name="contractData" value="">
        <tbody>
        <tr>
            <td>手机号：</td>
            <td><input type="text" name="phone"></td>
        </tr>
        <tr>
            <td>短信验证码：</td>
            <td><input type="text" name="smsCode"></td>
        </tr>
        <tr>
            <td>密码：</td>
            <td><input type="text" name="password"></td>
        </tr>
        <tr>
            <td>邀请码：</td>
            <td><input type="text" name="invitationCode"></td>
        </tr>
        <tr>
            <td class="button"><input type="button" id="ajaxSubmit" value="提交"></td>
        </tr>
        </tbody>
    </form>
</table>
<script type="text/javascript">

    $globals.onLoaded = function () {
        $('#ajaxSubmit').click(function () {
            var data = $('form').serializeArray();

            $.getJSON($globals.urlJson('oauth/webReg', {}, 'api'), validateForms(data), function (data) {
                if (data.code == 200) {
                    console.log(data);
                } else {
                    window.location.href = 'http://www.baidu.com';
//                    alert(data.msg);
//                    console.log(data);
                }
            });
        });
};

</script>
</body>
</html>
